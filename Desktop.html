<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Win12xAndroid ‚Äî Desktop</title>
	<style>
		:root{
			--accent:#0063f7;
			--bg:#0f1720;
			--glass: rgba(255,255,255,0.06);
			--glass-2: rgba(255,255,255,0.04);
			--text: #e6eef8;
			--muted: #9fb0c8;
			--taskbar-height:56px;
			font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
		}
		[data-theme="light"] {
			--bg: #f8fbff;
			--glass: rgba(0,0,0,0.07);
			--glass-2: rgba(0,0,0,0.02);
			--text: #20253b;
			--muted: #899ab2;
		}
		html,body{height:100%;margin:0;background:linear-gradient(180deg,#0b1220 0%, #07101a 100%);color:var(--text);}
		body[data-theme="light"] { background: linear-gradient(180deg,#e3eaf5 0%, #f8fbff 100%); }
		.wallpaper{position:fixed;inset:0;background-size:cover;background-position:center;z-index:-2;}
		.wallpaper[data-wallpaper="1"]{background-image:url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1200&q=80');}
		.wallpaper[data-wallpaper="2"]{background-image:url('https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=1200&q=80');}
		.wallpaper[data-wallpaper="3"]{background-image:url('https://images.unsplash.com/photo-1465101178521-cce0871faf1c?auto=format&fit=crop&w=1200&q=80');}
		/* ... (remaining style rules unchanged, but you may want to enhance transitions, etc.) ... */

		/* Simplified for brevity */
		.desktop{position:relative;min-height:100vh;display:flex;flex-direction:column}
		.icons{display:flex;flex-wrap:wrap;gap:18px;padding:28px 20px 120px 20px;align-items:flex-start}
		.icon{width:96px;text-align:center;color:var(--text);cursor:pointer;outline:none;transition: box-shadow 0.2s;}
		.icon:focus{box-shadow:0 0 0 3px var(--accent);}
		.icon .img{height:72px;width:72px;border-radius:14px;background:linear-gradient(180deg,var(--glass),var(--glass-2));display:flex;align-items:center;justify-content:center;margin:0 auto 8px;backdrop-filter: blur(2px)}
		.icon span{display:block;font-size:13px;color:var(--muted)}
		.icon[title]:hover::after {
			content: attr(title);
			position: absolute;
			top: 100%;
			left: 50%;
			transform: translateX(-50%);
			background: var(--glass);
			color: var(--text);
			padding: 4px 10px;
			border-radius: 7px;
			white-space: nowrap;
			box-shadow: 0 4px 16px rgba(0,0,0,0.16);
			z-index: 10;
		}

		/* Accessibility and transitions */
		.icon, .start-btn, .unlock-btn { transition: outline 0.14s, box-shadow 0.2s; outline:none}

		.taskbar{position:fixed;left:0;right:0;bottom:0;height:var(--taskbar-height);display:flex;align-items:center;padding:6px 12px;gap:12px;background:linear-gradient(180deg, rgba(10,14,20,0.35), rgba(6,12,20,0.16));z-index:99;}
		.start-btn{width:44px;height:44px;border-radius:10px;background:linear-gradient(180deg,white,rgba(255,255,255,0.02));display:grid;place-items:center;cursor:pointer}
		.start-menu{position:fixed;left:14px;bottom:72px;width:360px;background:var(--glass);border-radius:14px;padding:14px;box-shadow:0 12px 40px rgba(2,6,23,0.6);display:none;z-index:120;}
		.start-menu .menu-header{font-weight:700;margin-bottom:8px;color:var(--text);}
		.theme-switcher, .wallpaper-switcher{margin:10px 0;}
		.tray{margin-left:auto;display:flex;align-items:center;gap:12px;color:var(--muted)}
		.clock{font-weight:600}

		.window{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);width:80%;max-width:980px;height:66%;background:rgba(10,12,16,0.85);border-radius:12px;box-shadow:0 30px 80px rgba(0,0,0,0.6);display:none;z-index:200;flex-direction:column;}
		.window header{padding:10px 14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));display:flex;align-items:center;gap:12px}
		.window .content{flex:1;background:#07101a;padding:12px;color:var(--text)}

		@media (max-width:640px){.window{width:95%;height:78%}}

		/* Lock screen (unchanged) */
		.lock-screen{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;backdrop-filter: blur(6px);background:rgba(3,7,12,0.22);z-index:880;}
		.lock-card{width:min(920px,92%);padding:48px;border-radius:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 10px 30px rgba(2,6,23,0.6);display:flex;gap:32px;align-items:center;}
		.lock-time{font-size:56px;font-weight:600}
		.lock-date{color:var(--muted);margin-top:6px}
		.lock-actions{margin-left:auto;text-align:right}
		.unlock-btn{margin-top:10px;padding:10px 18px;background:var(--accent);border-radius:10px;color:white;border:none;cursor:pointer;box-shadow:0 6px 18px rgba(0,99,247,0.18)}
		.pin-input{margin-top:12px;padding:10px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text)}
	</style>
</head>
<body data-theme="dark">
	<div class="wallpaper" id="wallpaper" data-wallpaper="1"></div>

	<!-- Lock screen (shows on load) -->
	<div id="lock" class="lock-screen" aria-hidden="false">
		<div class="lock-card">
			<div>
				<div class="lock-time" id="time">12:00</div>
				<div class="lock-date" id="date">Sunday, January 1</div>
			</div>
			<div style="width:1px;background:rgba(255,255,255,0.02);height:72px;border-radius:2px"></div>
			<div style="min-width:220px">
				<div style="font-weight:600">Guest (Pin: 0000)</div>
				<div class="lock-actions">
					<input id="pin" class="pin-input" placeholder="Enter PIN or click Unlock" aria-label="PIN input" />
					<div>
						<button id="unlockBtn" class="unlock-btn" aria-label="Unlock screen">Unlock</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Desktop / Home -->
	<div id="desktop" class="desktop" style="display:none" aria-hidden="true">
		<div style="flex:1">
			<div class="icons" id="icons" role="grid">
				<div class="icon" tabindex="0" data-app="explorer" title="Explorer" aria-label="Win Explorer Icon">
					<div class="img">üìÅ</div>
					<span>Win Explorer</span>
				</div>
				<div class="icon" tabindex="0" data-app="settings" title="Settings" aria-label="Settings Icon">
					<div class="img">‚öôÔ∏è</div>
					<span>Settings</span>
				</div>
				<div class="icon" tabindex="0" data-app="store" title="Store" aria-label="Store Icon">
					<div class="img">üõí</div>
					<span>Store</span>
				</div>
				<!-- New realistic icons -->
				<div class="icon" tabindex="0" data-app="notepad" title="Notepad" aria-label="Notepad Icon">
					<div class="img">üìù</div>
					<span>Notepad</span>
				</div>
				<div class="icon" tabindex="0" data-app="browser" title="Web Browser" aria-label="Web Browser Icon">
					<div class="img">üåê</div>
					<span>Browser</span>
				</div>
				<div class="icon" tabindex="0" data-app="trash" title="Recycle Bin" aria-label="Recycle Bin Icon">
					<div class="img">üóëÔ∏è</div>
					<span>Recycle Bin</span>
				</div>
			</div>
		</div>

		<div class="taskbar" role="toolbar">
			<div class="start-btn" id="startBtn" title="Start" tabindex="0" aria-label="Open Start Menu">‚ò∞</div>
			<div class="search" style="padding:8px 12px;border-radius:10px;background:rgba(255,255,255,0.02);display:flex;align-items:center;gap:8px;color:var(--muted)">Search</div>
			<div id="startMenu" class="start-menu" role="menu">
				<div class="menu-header">Start</div>
				<div style="display:flex;gap:8px;flex-wrap:wrap">
					<button data-app="explorer" style="padding:8px;border-radius:8px;background:rgba(255,255,255,0.02);border:none;color:var(--text);cursor:pointer">Explorer</button>
					<button data-app="settings" style="padding:8px;border-radius:8px;background:rgba(255,255,255,0.02);border:none;color:var(--text);cursor:pointer">Settings</button>
					<button data-app="notepad" style="padding:8px;border-radius:8px;background:rgba(255,255,255,0.02);border:none;color:var(--text);cursor:pointer">Notepad</button>
					<button data-app="browser" style="padding:8px;border-radius:8px;background:rgba(255,255,255,0.02);border:none;color:var(--text);cursor:pointer">Browser</button>
				</div>
				<div class="theme-switcher">
					<label for="themeSelect" style="display:block;margin-top:14px;font-size:14px;color:var(--muted)">Theme:</label>
					<select id="themeSelect" style="padding:4px 10px;border-radius:6px;">
						<option value="dark">Dark</option>
						<option value="light">Light</option>
					</select>
				</div>
				<div class="wallpaper-switcher">
					<label for="wallpaperSelect" style="display:block;margin-top:10px;font-size:14px;color:var(--muted)">Wallpaper:</label>
					<select id="wallpaperSelect" style="padding:4px 10px;border-radius:6px;">
						<option value="1">Mountains</option>
						<option value="2">River</option>
						<option value="3">Forest</option>
					</select>
				</div>
			</div>

			<div class="tray">
				<div class="network" title="Network status">üì∂</div>
				<div class="volume" title="Audio volume">üîä</div>
				<div class="clock" id="taskClock" aria-label="Clock">12:00</div>
			</div>
		</div>
	</div>

	<!-- Simple window to host apps -->
	<div id="win" class="window" role="dialog" aria-hidden="true">
		<header><strong id="winTitle">App</strong><div style="margin-left:auto"><button id="closeWin">‚úï</button></div></header>
		<div class="content" id="winContent">
			<iframe id="appFrame" src="" style="width:100%;height:100%;border:0;background:transparent"></iframe>
		</div>
	</div>

	<script>
		// Theme/wallpaper controls
		const themeSelect = document.getElementById('themeSelect');
		const wallpaperSelect = document.getElementById('wallpaperSelect');
		const wallpaper = document.getElementById('wallpaper');
		themeSelect.onchange = function() {
			document.body.setAttribute('data-theme', this.value);
		};
		wallpaperSelect.onchange = function() {
			wallpaper.setAttribute('data-wallpaper', this.value);
		};

		const lock = document.getElementById('lock');
		const desktop = document.getElementById('desktop');
		const timeEl = document.getElementById('time');
		const dateEl = document.getElementById('date');
		const taskClock = document.getElementById('taskClock');

		function updateTime(){
			const d = new Date();
			const opts = {weekday:'long', month:'long', day:'numeric'};
			timeEl.textContent = d.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
			dateEl.textContent = d.toLocaleDateString(undefined, opts);
			taskClock.textContent = d.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
		}
		updateTime();
		setInterval(updateTime, 30*1000);

		const unlockBtn = document.getElementById('unlockBtn');
		const pinInput = document.getElementById('pin');
		unlockBtn.addEventListener('click', unlock);
		pinInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter') unlock(); });

		function unlock(){
			const pin = pinInput.value.trim();
			if(pin === '' || /^\d{4}$/.test(pin) || pin === '0000'){
				lock.style.display = 'none';
				lock.setAttribute('aria-hidden','true');
				desktop.style.display = 'flex';
				desktop.setAttribute('aria-hidden','false');
				// Focus first icon for accessibility
				const firstIcon = document.querySelector('.icon[tabindex]');
				if(firstIcon) firstIcon.focus();
			} else {
				pinInput.value = '';
				pinInput.placeholder = 'Wrong PIN ‚Äî try 4 digits';
			}
		}
		document.addEventListener('keydown', (e)=>{
			if(e.ctrlKey && e.key.toLowerCase()==='l'){
				lock.style.display='flex';
				desktop.style.display='none';
				pinInput.focus();
			}
		});

		const startBtn = document.getElementById('startBtn');
		const startMenu = document.getElementById('startMenu');
		startBtn.addEventListener('click', ()=>{startMenu.style.display = startMenu.style.display === 'block' ? 'none' : 'block'});
		document.addEventListener('click', (e)=>{ if(!startMenu.contains(e.target) && e.target !== startBtn) startMenu.style.display='none'});

		const icons = document.getElementById('icons');
		const win = document.getElementById('win');
		const winTitle = document.getElementById('winTitle');
		const appFrame = document.getElementById('appFrame');
		const closeWin = document.getElementById('closeWin');

		function openApp(name){
			let src='';
			let title=name;
			if(name==='explorer'){ src='Media/Apps/WinExplorer.html'; title='Win Explorer' }
			if(name==='settings'){ src='Media/Apps/WinSettings.html'; title='Settings' }
			if(name==='store'){ src='#'; title='Store' }
			if(name==='notepad'){src='https://notepad.js.org/'; title='Notepad'}
			if(name==='browser'){src='https://www.duckduckgo.com'; title='Web Browser'}
			if(name==='trash'){src=''; title='Recycle Bin (Empty)'}
			appFrame.src = src;
			winTitle.textContent = title;
			win.style.display = 'flex';
			win.setAttribute('aria-hidden','false');
			appFrame.focus();
		}

		icons.addEventListener('dblclick', (e)=>{
			const el = e.target.closest('.icon');
			if(el) openApp(el.dataset.app);
		});
		startMenu.addEventListener('click', (e)=>{ const b = e.target.closest('button'); if(b) openApp(b.dataset.app); });
		closeWin.addEventListener('click', ()=>{ win.style.display='none'; appFrame.src=''; win.setAttribute('aria-hidden','true'); });

		// Select icons with keyboard (tab and enter)
		icons.addEventListener('click', (e)=>{
			const el=e.target.closest('.icon');
			if(!el) return;
			document.querySelectorAll('.icon').forEach(i=>i.style.outline='');
			el.style.outline='2px solid var(--accent)';
		});
		icons.addEventListener('keydown', (e)=>{
			const el = document.activeElement;
			if(el && el.classList.contains('icon')){
				if(e.key === 'Enter' || e.key === ' '){
					openApp(el.dataset.app);
				}
			}
		});
	</script>
</body>
</html>
